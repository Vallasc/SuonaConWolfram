GetNotesFromMidiN[n_]:=(
fileMidi=GetNotesFromMidi[];
If[Length[fileMidi]>n,midiNotesTutorial=NoteTake[fileMidi,n], midiNotesTutorial=fileMidi]
)

(* Restituisce il path del file selezionato *)

(* Ripeti esercizio PlaySong *)
RepeatPlaySong[notes_] :=
    Button["Ripeti esercizio", PlaySong[notes], Method -> "Queued", BaseStyle -> {"GenericButton", 16, Bold, Orange}, Background -> LightOrange]

(* Genera nuovo esercizio PlaySong *)
GenerateNewPlaySong[n_] :=
Button["Genera nuovo esercizio", GetNotesFromMidiN[n], Method -> "Queued", BaseStyle -> {"GenericButton", 16, Bold, Orange}, Background -> LightOrange]

EmitSound[Sound[SoundNote[1, 1, "Trumpet"]]]

SetOptions[EvaluationNotebook[], NotebookEventActions -> none]

SetOptions[EvaluationNotebook[], 
 NotebookEventActions -> {{"KeyDown", "b"} :> 
    EmitSound[Sound[SoundNote[2, 1, "Trumpet"]]]}]


EventHandler

Needs["JLink`"];
ReinstallJava[];
LoadJavaClass["javax.sound.midi.MidiSystem"];
synth = MidiSystem`getSynthesizer[];
synth@open[];
$Channel = First[synth@getChannels[]];

callback[val_] := ($Channel@noteOn[64, 100]);
$Channel@allNotesOff[];

listener = SocketListen[5050, callback]